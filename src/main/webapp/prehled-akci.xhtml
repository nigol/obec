<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        template="/WEB-INF/templates/template-transient.xhtml"
        xmlns:p="http://primefaces.org/ui">

        <ui:param name="title" value="Přehled plánovaných akcí • Obec Tršice"/>

        <ui:define name="content">
            <h2>Přehled plánovaných akcí</h2>

            <p:dataGrid var="event"
                        value="#{eventBean.events}"
                        layout="grid"
                        columns="4">
                        
                <h:link outcome="akce.xhtml">
                    <f:param name="ical" value="true"/>
                    <f:param name="id" value="#{event.id}"/>
                    <h:panelGroup layout="block">
                        <figure>
                            <header>
                                <h:outputText value="#{event.startDate}">
                                        <f:convertDateTime locale="cs_CZ" type="date" pattern="LLLL"/>
                                </h:outputText>
                            </header>
                            <section>
                                <h:outputText value="#{event.startDate}">
                                        <f:convertDateTime type="date" pattern="d"/>
                                </h:outputText>
                            </section>
                        </figure>
                    </h:panelGroup>
                </h:link>

                <center>
                    <h:outputText value="#{event.description}"
                        rendered="#{empty event.link}"/>
                    <h:outputLink value="#{event.link}"
                        rendered="#{!empty event.link}">
                        #{event.description}
                    </h:outputLink>
                </center>
            </p:dataGrid>
            
            <br/>

            <h:panelGroup layout="block"
                    style="text-align: center">
                <h:link styleClass="moreInfoLink" outcome="/index.xhtml"
                        value="Zpět na úvodní stránku">
                </h:link>
            </h:panelGroup>

        </ui:define>
    </ui:composition>
